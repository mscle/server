var Vow = require('./lib/vow');

function test(promise) {
    return promise.always(function(p) {
        console.log(p.valueOf());
        return p.valueOf();
    });
}

function testOk(promise) {
    promise.fulfill('ok');
    return test(promise);
}

function testErr(promise) {
    promise.reject('not-ok');
    return test(promise);
}

function promise() {
    return Vow.promise();
}

testOk(promise()).then(console.log);
//testErr(promise()).then(console.log);